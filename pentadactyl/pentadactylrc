loadplugins '\.(js|penta)$'
group user

" colorscheme
colorscheme neverland

" general options
set activate=help,homepage,quickmark,tabopen
set defsearch=d
set downloadsort='-time'
set editor='urxvt -e vim -X'
set findcase='smart'
set findflags='r'
set guioptions=s
set hintkeys=aoeuhkns
set hintmatching=firstletters
set history=10
set hlfind
set popups=tab
set showtabline=never
set titlestring="Mozzarella Firefux"
set urlseparator=',,'
set wildmode=full

" buftabs
set buftabs-maxlength=20
set buftabs-completer=~

" noscript
nmap -builtin a :noscript popup<CR>
nmap -builtin A :noscript toggletemp<CR>

" leader key
map , <Leader>

" can't remember sites I visit
map <Leader>w :bmarks! -T webs<CR>

" arch forum sections
map <Leader>a :bmarks! -T arch<CR>

" individual subreddits
map <Leader>r :bmarks! -T reddits<CR>

" easy access to downloads
map <Leader>l :downloads<CR>

" easier way to detach a tab
map <Leader>t :tabdetach<CR>

" update all addons
map <Leader>e :extupdate!<CR>

" turn off search highlighting
nmap <Leader><Space> :nohlfind<CR>

" faster scrolling
nmap -builtin h 5h
nmap -builtin j 5j
nmap -builtin k 5k
nmap -builtin l 5l
nmap <Space> <C-d>
nmap <S-Space> <C-u>

" map K and J to next and prev tab
nmap K :tn<CR>
nmap J :tp<CR>

" easier tab moving
nmap <S-C-k> :tabmove +1<CR>
nmap <S-C-j> :tabmove -1<CR>

" passthrough mode shortcut
nmap c <C-z>

" prevent accidental closing
nmap -builtin <C-q> <nop>
nmap -builtin q <nop>

" open in background tab
nmap <C-t> :tabopen!<Space>

" some sites have handy keyboard shortcuts
set passkeys+=reddit.com:jk<CR>cazx
set passkeys+=duckduckgo.com:jklv

" hide statusbar when using html5 fullscreen
autocmd Fullscreen on  set guioptions-=s
autocmd Fullscreen off set guioptions+=s

" stop da music
autocmd PageLoad youtube.com/watch* :silent !cmus-remote -o

" play youtube video in mplayer
nmap <Leader>y :execute "silent !~/bin/youtube-play '" + buffer.URL + "'"<CR>

" view native size of image without clicking it
nmap <Leader>z :js window.content.document.toggleImageSize();<CR>

" manage a to-read list of websites in a stack
nmap <Leader>sa :execute "silent !~/bin/stack push " + buffer.URL<CR>
nmap <Leader>sp :execute "silent !~/bin/stack pop"<CR>

" vim: set ft=vim ts=2 sw=2
